"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["29551"],{65432:function(e,t,i){i.r(t),i.d(t,{metadata:()=>s,default:()=>d,frontMatter:()=>r,contentTitle:()=>l,toc:()=>h,assets:()=>a});var s=JSON.parse('{"id":"phaser-editor/asset-pack-editor/add-file","title":"Importing files","description":"Before you can use a file in your game, you must create a configuration entry for it in an Asset Pack file. This is called importing the file.","source":"@site/docs/phaser-editor/asset-pack-editor/add-file.md","sourceDirName":"phaser-editor/asset-pack-editor","slug":"/phaser-editor/asset-pack-editor/add-file","permalink":"/phaser-editor/asset-pack-editor/add-file","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"slug":"add-file","title":"Importing files"},"sidebar":"PhaserEditorSidebar","previous":{"title":"Editor content layout","permalink":"/phaser-editor/asset-pack-editor/editor-content-layout"},"next":{"title":"Organizing the Asset Pack files","permalink":"/phaser-editor/asset-pack-editor/organizing-the-assets"}}'),o=i(74848),n=i(28453);let r={slug:"add-file",title:"Importing files"},l,a={},h=[{value:"Importing using the Main toolbar",id:"importing-using-the-main-toolbar",level:2},{value:"Importing from the Blocks view",id:"importing-from-the-blocks-view",level:2},{value:"Showing all files in the Blocks view",id:"showing-all-files-in-the-blocks-view",level:2},{value:"Importing from the Files view",id:"importing-from-the-files-view",level:2},{value:"Setting the root folder for the asset files",id:"setting-the-root-folder-for-the-asset-files",level:2}];function c(e){let t={a:"a",code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t.p,{children:["Before you can use a file in your game, you must create a configuration entry for it in an ",(0,o.jsx)(t.a,{href:"../asset-pack-editor/asset-pack-file",children:"Asset Pack file"}),". This is called ",(0,o.jsx)(t.strong,{children:"importing"})," the file."]}),"\n",(0,o.jsxs)(t.p,{children:["You can import a file using the Asset Pack Editor\u2019s ",(0,o.jsx)(t.a,{href:"#importing-using-the-main-toolbar",children:"Main toolbar"})," or ",(0,o.jsx)(t.a,{href:"#importing-from-the-blocks-view",children:"Blocks view"}),",\nor using the ",(0,o.jsx)(t.a,{href:"#importing-from-the-files-view",children:"Files view"}),". We\u2019ll discuss each of these in the following sections."]}),"\n",(0,o.jsxs)(t.p,{children:["You can un-import a file, removing its ",(0,o.jsx)(t.a,{href:"../asset-pack-editor/asset-pack-file",children:"Asset Pack file"})," entry, by pressing the ",(0,o.jsx)(t.code,{children:"Delete"})," key in the ",(0,o.jsx)(t.a,{href:"../asset-pack-editor/intro",children:"Asset Pack Editor"})," or the ",(0,o.jsx)(t.a,{href:"./outline-view",children:"Outline view"}),", or from their context menus."]}),"\n",(0,o.jsx)(t.h2,{id:"importing-using-the-main-toolbar",children:"Importing using the Main toolbar"}),"\n",(0,o.jsx)(t.p,{children:"These are the steps:"}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsxs)(t.p,{children:["With the Asset Pack Editor active, press the ",(0,o.jsx)(t.strong,{children:"Import File"})," button in the ",(0,o.jsx)(t.a,{href:"../workbench/main-toolbar",children:"Main toolbar"})," (also available in the context menu or by pressing the ",(0,o.jsx)(t.code,{children:"A"})," key.)"]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsx)(t.p,{children:"It opens a dialog with all the file types. Select the type of file you want to add."}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:"https://cdn.phaser.io/editor-docs/asset-pack-editor-add-file-1-01012022.webp",alt:"Select the file type."})}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsx)(t.p,{children:"When you select a file type, it opens a dialog with a list of candidate files to be added. The candidate files are selected following these rules:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["The files belong to the folder, or sub-folder, of the editor input file. It is not a restriction of the ",(0,o.jsx)(t.a,{href:"../asset-pack-editor/asset-pack-file",children:"Asset Pack file"}),", but we use it to simplify the process of importing the files."]}),"\n",(0,o.jsx)(t.li,{children:"The content type or extension of the file names are compatible with the type selected. For example, if you select to add an Image, then only image files are shown."}),"\n",(0,o.jsxs)(t.li,{children:["The files are not included in any other ",(0,o.jsx)(t.a,{href:"../asset-pack-editor/asset-pack-file",children:"Asset Pack file"})," in the project."]}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:["However, you always have the option of select any file by pressing the ",(0,o.jsx)(t.strong,{children:"Show All Files"})," button of the dialog.\n",(0,o.jsx)(t.img,{src:"https://cdn.phaser.io/editor-docs/asset-pack-editor-add-file-2-01012022.webp",alt:"Select the files to be added."})]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsxs)(t.p,{children:["Change the properties of the file configuration in the Inspector view. Many of the values of the fields are set automatically. The file URL is computed using its relative path in the project. Read ",(0,o.jsx)(t.a,{href:"#setting-the-root-folder-for-the-asset-files",children:"Setting the root folder for the asset files"})," to learn more about the asset file URLs."]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:"https://cdn.phaser.io/editor-docs/asset-pack-editor-edit-file-inspector-view-2-01012022.webp",alt:"Edit properties of a file configuration."})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"importing-from-the-blocks-view",children:"Importing from the Blocks view"}),"\n",(0,o.jsx)(t.p,{children:"The Blocks view is a general-purpose view that connects with the active editor and provides the \u201Cblocks\u201D needed to build the objects of the editor."}),"\n",(0,o.jsxs)(t.p,{children:["When the ",(0,o.jsx)(t.a,{href:"../asset-pack-editor/intro",children:"Asset Pack Editor"})," is active, the Blocks view shows the files that are candidates to be imported. A file is a candidate to be imported if:"]}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsxs)(t.p,{children:["The file belongs to the folder, or sub-folder, of the ",(0,o.jsx)(t.a,{href:"../asset-pack-editor/asset-pack-file",children:"Asset Pack file"})," that is the input of the editor (unless you disable this restriction, as discussed at the end of this section)."]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsxs)(t.p,{children:["The file is not present in any other ",(0,o.jsx)(t.a,{href:"../asset-pack-editor/asset-pack-file",children:"Asset Pack file"})," in the project."]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsx)(t.p,{children:"If the file has a content type or file name extension that we know is never loaded in games:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["TypeScript files (",(0,o.jsx)(t.code,{children:".ts"}),")."]}),"\n",(0,o.jsxs)(t.li,{children:["Scene Editor files (",(0,o.jsx)(t.code,{children:".scene"}),")."]}),"\n",(0,o.jsxs)(t.li,{children:["Another ",(0,o.jsx)(t.a,{href:"../asset-pack-editor/asset-pack-file",children:"Asset Pack file"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"These are the steps:"}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsx)(t.p,{children:"Select the files to be imported in the Blocks view."}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsxs)(t.p,{children:["Select one of the importing options listed in the ",(0,o.jsx)(t.strong,{children:"Asset Pack Entry"})," section of the Inspector view."]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:"https://cdn.phaser.io/editor-docs/asset-pack-add-file-from-blocks-view-01012022.webp",alt:"Import files from Blocks view."})}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsx)(t.p,{children:"When the files are imported, edit the new configurations in the Inspector view."}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:["This is simpler than using the ",(0,o.jsx)(t.a,{href:"../workbench/main-toolbar",children:"Main toolbar"})," button: once you select the files the editor shows only the relevant importing options, based on their content type and name."]}),"\n",(0,o.jsx)(t.h2,{id:"showing-all-files-in-the-blocks-view",children:"Showing all files in the Blocks view"}),"\n",(0,o.jsxs)(t.p,{children:["As we mentioned before, the Blocks view only shows the files in the same folder (or sub-folder) as the ",(0,o.jsx)(t.a,{href:"../asset-pack-editor/asset-pack-file",children:"Asset Pack file"}),". You can disable this restriction by checking the ",(0,o.jsx)(t.strong,{children:"Show All Files in Project"})," settings in the Inspector view:"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:"https://cdn.phaser.io/editor-docs/asset-pack-show-all-files-in-blocks-20210529.webp",alt:"Show all files in the Blocks view."})}),"\n",(0,o.jsx)(t.h2,{id:"importing-from-the-files-view",children:"Importing from the Files view"}),"\n",(0,o.jsxs)(t.p,{children:["Importing from the Files view is very similar to importing from the Blocks view, but you don\u2019t need to open the ",(0,o.jsx)(t.a,{href:"../asset-pack-editor/intro",children:"Asset Pack Editor"}),"."]}),"\n",(0,o.jsxs)(t.p,{children:["Whether or not the ",(0,o.jsx)(t.a,{href:"../asset-pack-editor/intro",children:"Asset Pack Editor"})," is active, you can select a one or more file in the Files view and, in the ",(0,o.jsx)(t.strong,{children:"Asset Pack Entry"})," section of the Inspector view, select the option to import the file into an existent ",(0,o.jsx)(t.a,{href:"../asset-pack-editor/asset-pack-file",children:"Asset Pack file"})," or a new one."]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:"https://cdn.phaser.io/editor-docs/asset-pack-editor-import-from-files-view-1-01012022.webp",alt:"Import files from the Files view."})}),"\n",(0,o.jsxs)(t.p,{children:["If any file you selected in the Files view already has a configuration entry in an ",(0,o.jsx)(t.a,{href:"../asset-pack-editor/asset-pack-file",children:"Asset Pack file"}),", then the Inspector view shows a button to open that ",(0,o.jsx)(t.a,{href:"../asset-pack-editor/asset-pack-file",children:"Asset Pack file"})," in the ",(0,o.jsx)(t.a,{href:"../asset-pack-editor/intro",children:"Asset Pack Editor"}),"."]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:"https://cdn.phaser.io/editor-docs/asset-pack-editor-import-from-files-view-2-01012022.webp",alt:"Open Asset Pack file with configuration for the selected files."})}),"\n",(0,o.jsx)(t.h2,{id:"setting-the-root-folder-for-the-asset-files",children:"Setting the root folder for the asset files"}),"\n",(0,o.jsxs)(t.p,{children:["When you add an entry for a new file to an Asset Pack, the editor uses, as the URL, the project\u2019s relative path to the file. For example, if you add an image file with full path ",(0,o.jsx)(t.code,{children:"<project root>/assets/background.png"}),", then the URL in the Asset Pack entry is set to ",(0,o.jsx)(t.code,{children:"assets/background.png"}),"."]}),"\n",(0,o.jsxs)(t.p,{children:["That\u2019s fine for a lot of cases. However, if you use web bundlers, like ",(0,o.jsx)(t.a,{href:"https://webpack.js.org",children:"WebpackJS"})," or Parcel, it could be different. Maybe the relative path of the assets is not the same in the project and the website."]}),"\n",(0,o.jsxs)(t.p,{children:["Let\u2019s see an example. The ",(0,o.jsx)(t.a,{href:"https://webpack.js.org",children:"WebpackJS"})," project template of Phaser Editor has this layout:"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:"https://cdn.phaser.io/editor-docs/asset-pack-static-folder-webpack-03312021.webp",alt:"Project layout of the Webpack template."})}),"\n",(0,o.jsxs)(t.p,{children:["Notice that if you add the ",(0,o.jsx)(t.code,{children:"FufuSuperDino.png"})," file to an asset pack, it sets the URL of the image to ",(0,o.jsx)(t.code,{children:"static/assets/FufuSuperDino.png"}),". However, the ",(0,o.jsx)(t.code,{children:"static"})," folder is not present in the distribution build (in the website). It only copies its content to the distribution build folder. So, when you open the game in the browser, the path of the image file is ",(0,o.jsx)(t.code,{children:"assets/FufuSuperDino.png"})," (without the ",(0,o.jsx)(t.code,{children:"static"})," element)."]}),"\n",(0,o.jsxs)(t.p,{children:["Now, Phaser Editor allows changing the root folder for the assets. If you add an empty ",(0,o.jsx)(t.code,{children:"publicroot"})," file, in the ",(0,o.jsx)(t.code,{children:"static"})," folder, then the editor will build the file URL with the relative path to the ",(0,o.jsx)(t.code,{children:"<project root>/static"})," folder:"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:"https://cdn.phaser.io/editor-docs/asset-pack-publicroot-file-03312021.webp",alt:"the publicroot file."})}),"\n",(0,o.jsxs)(t.p,{children:["The rule is simple. When you add an entry to an Asset Pack for a new file, it builds the file\u2019s URL using the relative path to a root folder. To find the root folder, it checks each parent folder of the Asset Pack file until it finds one containing a ",(0,o.jsx)(t.code,{children:"publicroot"})," file.  That folder is then taken as the root folder to build the URL. If no ",(0,o.jsx)(t.code,{children:"publicroot"})," file is found, it defaults to the root folder for the project."]})]})}function d(e={}){let{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},28453:function(e,t,i){i.d(t,{R:()=>r,x:()=>l});var s=i(96540);let o={},n=s.createContext(o);function r(e){let t=s.useContext(n);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(n.Provider,{value:t},e.children)}}}]);
"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["40597"],{54405:function(e,t,i){i.r(t),i.d(t,{metadata:()=>n,default:()=>o,frontMatter:()=>r,contentTitle:()=>l,toc:()=>h,assets:()=>c});var n=JSON.parse('{"id":"phaser/concepts/gameobjects/nine-slice","title":"Nine Slice","description":"A Guide to the Phaser Nine Slice Game Object for scalable UI elements","source":"@site/docs/phaser/concepts/gameobjects/nine-slice.md","sourceDirName":"phaser/concepts/gameobjects","slug":"/phaser/concepts/gameobjects/nine-slice","permalink":"/phaser/concepts/gameobjects/nine-slice","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"visibility":"public","slug":"nine-slice","title":"Nine Slice","description":"A Guide to the Phaser Nine Slice Game Object for scalable UI elements","seoTitle":"Nine Slice","seoDescription":"A Guide to the Phaser Nine Slice Game Object for scalable UI elements"},"sidebar":"PhaserSidebar","previous":{"title":"Mesh","permalink":"/phaser/concepts/gameobjects/mesh"},"next":{"title":"Particles","permalink":"/phaser/concepts/gameobjects/particles"}}'),s=i(74848),a=i(28453);let r={visibility:"public",slug:"nine-slice",title:"Nine Slice",description:"A Guide to the Phaser Nine Slice Game Object for scalable UI elements",seoTitle:"Nine Slice",seoDescription:"A Guide to the Phaser Nine Slice Game Object for scalable UI elements"},l,c={},h=[{value:"Load texture",id:"load-texture",level:2},{value:"Add nine slice object",id:"add-nine-slice-object",level:2},{value:"Custom class",id:"custom-class",level:2},{value:"Resize",id:"resize",level:2},{value:"Set texture of source image",id:"set-texture-of-source-image",level:2},{value:"Texture",id:"texture",level:2},{value:"Other properties",id:"other-properties",level:2},{value:"Create mask",id:"create-mask",level:2},{value:"Shader effects",id:"shader-effects",level:2},{value:"Author Credits",id:"author-credits",level:2}];function d(e){let t={a:"a",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"A Nine Slice Game Object allows you to display a texture-based object that can be stretched both horizontally and vertically, but that retains fixed-sized corners. The dimensions of the corners are set via the parameters to this class."}),"\n",(0,s.jsx)(t.p,{children:"This is extremely useful for UI and button like elements, where you need them to expand to accommodate the content without distorting the texture."}),"\n",(0,s.jsx)(t.p,{children:"The texture you provide for this Game Object should be based on the following layout structure:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"     A                          B\n   +---+----------------------+---+\n C | 1 |          2           | 3 |\n   +---+----------------------+---+\n   |   |                      |   |\n   | 4 |          5           | 6 |\n   |   |                      |   |\n   +---+----------------------+---+\n D | 7 |          8           | 9 |\n   +---+----------------------+---+\n"})}),"\n",(0,s.jsx)(t.p,{children:"When changing this objects width and / or height:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"areas 1, 3, 7 and 9 (the corners) will remain unscaled"}),"\n",(0,s.jsx)(t.li,{children:"areas 2 and 8 will be stretched horizontally only"}),"\n",(0,s.jsx)(t.li,{children:"areas 4 and 6 will be stretched vertically only"}),"\n",(0,s.jsx)(t.li,{children:"area 5 will be stretched both horizontally and vertically"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"You can also create a 3 slice Game Object:"}),"\n",(0,s.jsx)(t.p,{children:"This works in a similar way, except you can only stretch it horizontally. Therefore, it requires less configuration:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"     A                          B\n   +---+----------------------+---+\n   |   |                      |   |\n C | 1 |          2           | 3 |\n   |   |                      |   |\n   +---+----------------------+---+\n"})}),"\n",(0,s.jsx)(t.p,{children:"When changing this objects width (you cannot change its height)"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"areas 1 and 3 will remain unscaled"}),"\n",(0,s.jsx)(t.li,{children:"area 2 will be stretched horizontally"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"The above configuration concept is adapted from the Pixi NineSlicePlane."}),"\n",(0,s.jsxs)(t.p,{children:["To specify a 3 slice object instead of a 9 slice you should only provide the ",(0,s.jsx)(t.code,{children:"leftWidth"})," and ",(0,s.jsx)(t.code,{children:"rightWidth"})," parameters. To create a 9 slice you must supply all parameters."]}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.em,{children:"minimum"})," width this Game Object can be is the total of ",(0,s.jsx)(t.code,{children:"leftWidth"})," + ",(0,s.jsx)(t.code,{children:"rightWidth"}),". The minimum height this Game Object can be is the total of ",(0,s.jsx)(t.code,{children:"topHeight"})," + ",(0,s.jsx)(t.code,{children:"bottomHeight"}),". If you need to display this object at a smaller size, you can scale it."]}),"\n",(0,s.jsx)(t.p,{children:"In terms of performance, using a 3 slice Game Object is the equivalent of having 3 Sprites in a row. Using a 9 slice Game Object is the equivalent of having 9 Sprites in a row. The vertices of this object are all batched together and can co-exist with other Sprites and graphics on the display list, without incurring any additional overhead."}),"\n",(0,s.jsxs)(t.p,{children:["As of Phaser 3.60 this Game Object is ",(0,s.jsx)(t.strong,{children:"WebGL only"}),"."]}),"\n",(0,s.jsx)(t.p,{children:"As of Phaser 3.70 this Game Object can now populate its values automatically if they have been set within Texture Packer 7.1.0 or above and exported with the atlas json. If this is the case, you can just call this method without specifying anything more than the texture key and frame and it will pull the area data from the atlas."}),"\n",(0,s.jsx)(t.h2,{id:"load-texture",children:"Load texture"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:"this.load.image(key, url);\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Reference: ",(0,s.jsx)(t.a,{href:"/phaser/concepts/loader#image",children:"load image"})]}),"\n",(0,s.jsx)(t.h2,{id:"add-nine-slice-object",children:"Add nine slice object"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:"var nineSlice = this.add.nineslice(x, y, texture, frame, width, height, leftWidth, rightWidth, topHeight, bottomHeight);\n"})}),"\n",(0,s.jsx)(t.p,{children:"or"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:"var nineSlice = this.add.nineslice(x, y, texture, frame, width, height);\n// var nineSlice = this.add.nineslice(x, y, texture, frame);\n"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["If that frame (indexed by ",(0,s.jsx)(t.code,{children:"texture"}),", ",(0,s.jsx)(t.code,{children:"frame"}),") is generated by Texture Packer."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Add nine slice from JSON"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:"var nineSlice = this.make.nineslice({\n    x: 0,\n    y: 0,\n    key: '',\n    // frame: '',\n\n    // width: 256,\n    // height: 256,\n    // leftWidth: 10,\n    // rightWidth: 10,\n    // topHeight: 0,\n    // bottomHeight: 0,\n\n    // angle: 0,\n    // alpha: 1,\n    // scale : {\n    //    x: 1,\n    //    y: 1\n    //},\n    // origin: {x: 0.5, y: 0.5},\n\n    add: true\n});\n"})}),"\n",(0,s.jsx)(t.h2,{id:"custom-class",children:"Custom class"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Define class"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:"class MyNineSlice extends Phaser.GameObjects.NineSlice {\n    constructor(scene, x, y, texture, frame, width, height, leftWidth, rightWidth, topHeight, bottomHeight) {\n        super(scene, x, y, texture, frame, width, height, leftWidth, rightWidth, topHeight, bottomHeight);\n        // ...\n        this.add.existing(this);\n    }\n    // ...\n\n    // preUpdate(time, delta) {}\n}\n"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"this.add.existing(gameObject)"})," : Adds an existing Game Object to this Scene.\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"If the Game Object renders, it will be added to the Display List."}),"\n",(0,s.jsxs)(t.li,{children:["If it has a ",(0,s.jsx)(t.code,{children:"preUpdate"})," method, it will be added to the Update List."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Create instance"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:"var nineSlice = new MyNineSlice(scene, x, y, texture, frame, width, height, leftWidth, rightWidth, topHeight, bottomHeight);\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"resize",children:"Resize"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:"nineSlice.setSize(width, height);\n"})}),"\n",(0,s.jsx)(t.h2,{id:"set-texture-of-source-image",children:"Set texture of source image"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:"nineSlice.setTexture(texture, frame);\nnineSlice.setSlices(width, height, leftWidth, rightWidth, topHeight, bottomHeight);\n"})}),"\n",(0,s.jsx)(t.h2,{id:"texture",children:"Texture"}),"\n",(0,s.jsxs)(t.p,{children:["See ",(0,s.jsx)(t.a,{href:"/phaser/concepts/gameobjects#textures",children:"game object - texture"})]}),"\n",(0,s.jsx)(t.h2,{id:"other-properties",children:"Other properties"}),"\n",(0,s.jsxs)(t.p,{children:["See ",(0,s.jsx)(t.a,{href:"/phaser/concepts/gameobjects",children:"game object"})]}),"\n",(0,s.jsx)(t.h2,{id:"create-mask",children:"Create mask"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:"var mask = nineSlice.createBitmapMask();\n"})}),"\n",(0,s.jsxs)(t.p,{children:["See ",(0,s.jsx)(t.a,{href:"/phaser/concepts/display#masks",children:"mask"})]}),"\n",(0,s.jsx)(t.h2,{id:"shader-effects",children:"Shader effects"}),"\n",(0,s.jsxs)(t.p,{children:["Support ",(0,s.jsx)(t.a,{href:"/phaser/concepts/gameobjects/shader",children:"postFX effects"})]}),"\n",(0,s.jsx)(t.p,{children:"!!! note\nNo preFX effect support"}),"\n",(0,s.jsx)(t.h2,{id:"author-credits",children:"Author Credits"}),"\n",(0,s.jsx)(t.p,{children:"Content on this page includes work by:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/rexrainbow",children:"RexRainbow"})}),"\n"]})]})}function o(e={}){let{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:function(e,t,i){i.d(t,{R:()=>r,x:()=>l});var n=i(96540);let s={},a=n.createContext(s);function r(e){let t=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);
"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["30685"],{51543:function(e,n,t){t.r(n),t.d(n,{metadata:()=>o,default:()=>d,frontMatter:()=>r,contentTitle:()=>a,toc:()=>p,assets:()=>c});var o=JSON.parse('{"id":"phaser-editor/scene-editor/user-components","title":"User Components","description":"A Component is a design pattern that you can use to create reusable code and extend the behavior and data of a game object, using composition over inheritance.","source":"@site/docs/phaser-editor/scene-editor/user-components.md","sourceDirName":"phaser-editor/scene-editor","slug":"/phaser-editor/scene-editor/user-components","permalink":"/phaser-editor/scene-editor/user-components","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"slug":"user-components","title":"User Components"},"sidebar":"PhaserEditorSidebar","previous":{"title":"Adding constraints to Script Nodes","permalink":"/phaser-editor/scene-editor/script-node/script-node-constraints"},"next":{"title":"Create a new User Components file","permalink":"/phaser-editor/scene-editor/user-components/user-components-create-file"}}'),s=t(74848),i=t(28453);let r={slug:"user-components",title:"User Components"},a,c={},p=[];function h(e){let n={a:"a",code:"code",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["A Component is a ",(0,s.jsx)(n.a,{href:"https://gameprogrammingpatterns.com/component",children:"design pattern"})," that you can use to create reusable code and extend the behavior and data of a game object, using ",(0,s.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Composition_over_inheritance",children:"composition over inheritance"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["For example, an ",(0,s.jsx)(n.strong,{children:"HorizontalMove"})," component can be added to any kind of enemy object that moves horizontally from one position to another. This component class can be written more or less like this (see the ",(0,s.jsx)(n.a,{href:"../scene-editor/user-components/user-components-compiler",children:"User Components compiler"})," section for a real example):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"class HorizontalMove {\n\n    constructor(gameObject) {\n\n        // in the component, keep a reference to the entity\n        this.gameObject = gameObject;\n        // in the entity, keep a reference ('horizontalMove') to the component\n        this.gameObject.horizontalMove = this;\n        // init properties with default values\n        this.minX = 0;\n        this.maxX = 800;\n        this.horizVelocity = 10;\n    }\n\n    start() {\n        this.gameObject.body.velocity.x = this.horizVelocity;\n    }\n\n    update() {\n\n        // the behavior of the component\n\n        const velocity = this.gameObject.body.velocity;\n\n        if (this.gameObject.x < this.minX) {\n            velocity.x = Math.abs(this.horizVelocity);\n        }\n\n        if (this.gameObject.x > this.maxX) {\n            velocity.x = -Math.abs(this.horizVelocity);\n        }\n    }\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["In the scene, you can create objects and add the ",(0,s.jsx)(n.strong,{children:"HorizontalMove"})," component to them. Then, update the components at every game loop step:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'class Level extends Phaser.Scene {\n\n    create() {\n\n        // create two objects, alien and spider, and add the HorizontalMove\n        // component to both, but with different property values.\n\n        this.alien = this.add.sprite(10, 10, "enemies", "alien");\n        const alienMove = new HorizontalMove(this.alien);\n        alienMove.minX = 10;\n        alienMove.maxX = 100;\n        alienMove.horizVelocity = 40;\n        alienMove.start();\n\n        this.spider = this.add.sprite(80, 100, "enemies", "spider");\n        const spiderMove = new HorizontalMove(this.spider);\n        spiderMove.minX = 50;\n        spiderMove.maxX = 200;\n        spiderMove.horizVelocity = -20;\n        spiderMove.start();\n    }\n\n    update() {\n\n        // update the HorizontalMove component of each object\n\n        this.alien.horizontalMove.update();\n        this.spider.horizontalMove.update();\n\n         // in a real case, the component can register\n         // a listener to the UPDATE event of the scene.\n    }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["In Phaser Editor, we provide a way to create game object components (we name it ",(0,s.jsx)(n.strong,{children:"User Components"}),", to make a difference with the built-in Phaser components) and use them in the Scene Editor. The prefabs system is another way to create reusable behaviors and data but has the limitation that it uses inheritance."]}),"\n",(0,s.jsxs)(n.p,{children:["Like the Scene Editor, we provide a ",(0,s.jsx)(n.a,{href:"../scene-editor/user-components/user-components-editor",children:"User Components Editor"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.a,{href:"../scene-editor/user-components/user-components-editor",children:"User Components Editor"})," allows you to create User Components configuration files. A User Components configuration file (",(0,s.jsx)(n.code,{children:"*.components"}),") contains a list of component configurations that are compiled into JavaScript (or TypeScript) code. It is pretty similar to the ",(0,s.jsx)(n.a,{href:"../scene-editor/scene-compiler",children:"scene compiler"}),"."]})]})}function d(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453:function(e,n,t){t.d(n,{R:()=>r,x:()=>a});var o=t(96540);let s={},i=o.createContext(s);function r(e){let n=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);
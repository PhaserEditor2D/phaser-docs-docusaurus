"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["78673"],{11209:function(e,n,i){i.r(n),i.d(n,{metadata:()=>s,default:()=>h,frontMatter:()=>d,contentTitle:()=>l,toc:()=>c,assets:()=>o});var s=JSON.parse('{"id":"phaser/concepts/gameobjects/video","title":"Video","description":"A Guide to the Phaser Video Game Object","source":"@site/docs/phaser/concepts/gameobjects/video.md","sourceDirName":"phaser/concepts/gameobjects","slug":"/phaser/concepts/gameobjects/video","permalink":"/phaser/concepts/gameobjects/video","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"visibility":"public","slug":"video","title":"Video","description":"A Guide to the Phaser Video Game Object","seoTitle":"Video","seoDescription":"A Guide to the Phaser Video Game Object"},"sidebar":"PhaserSidebar","previous":{"title":"Tile Sprite","permalink":"/phaser/concepts/gameobjects/tile-sprite"},"next":{"title":"Geometry","permalink":"/phaser/concepts/geometry"}}'),a=i(74848),r=i(28453);let d={visibility:"public",slug:"video",title:"Video",description:"A Guide to the Phaser Video Game Object",seoTitle:"Video",seoDescription:"A Guide to the Phaser Video Game Object"},l,o={},c=[{value:"Load video",id:"load-video",level:2},{value:"Add video object",id:"add-video-object",level:2},{value:"Reference video from Video Cache",id:"reference-video-from-video-cache",level:3},{value:"Load video from URL",id:"load-video-from-url",level:3},{value:"Load video from MediaStream",id:"load-video-from-mediastream",level:3},{value:"Size",id:"size",level:3},{value:"Play",id:"play",level:2},{value:"Pause",id:"pause",level:2},{value:"Stop",id:"stop",level:2},{value:"Is playing",id:"is-playing",level:2},{value:"Playback time",id:"playback-time",level:2},{value:"Playback rate",id:"playback-rate",level:2},{value:"Duration",id:"duration",level:2},{value:"Volume",id:"volume",level:2},{value:"Mute",id:"mute",level:2},{value:"Loop",id:"loop",level:2},{value:"Video key",id:"video-key",level:2},{value:"Marks",id:"marks",level:2},{value:"Snapshot",id:"snapshot",level:2},{value:"Save texture",id:"save-texture",level:2},{value:"Events",id:"events",level:2},{value:"Other properties",id:"other-properties",level:2},{value:"Create mask",id:"create-mask",level:2},{value:"Shader effects",id:"shader-effects",level:2},{value:"Author Credits",id:"author-credits",level:2}];function t(e){let n={a:"a",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"This Game Object is capable of handling playback of a video file, video stream or media stream."}),"\n",(0,a.jsx)(n.p,{children:"You can optionally 'preload' the video into the Phaser Video Cache:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"preload () {\n  this.load.video('ripley', 'assets/aliens.mp4');\n}\n\ncreate () {\n  this.add.video(400, 300, 'ripley');\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:"You don't have to 'preload' the video. You can also play it directly from a URL:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"create () {\n  this.add.video(400, 300).loadURL('assets/aliens.mp4');\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:"To all intents and purposes, a video is a standard Game Object, just like a Sprite. And as such, you can do all the usual things to it, such as scaling, rotating, cropping, tinting, making interactive, giving a physics body, etc."}),"\n",(0,a.jsx)(n.p,{children:"Transparent videos are also possible via the WebM file format. Providing the video file has was encoded with an alpha channel, and providing the browser supports WebM playback (not all of them do), then it will render in-game with full transparency."}),"\n",(0,a.jsx)(n.p,{children:"Playback is handled entirely via the Request Video Frame API, which is supported by most modern browsers. A polyfill is provided for older browsers."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Autoplaying Videos"})}),"\n",(0,a.jsxs)(n.p,{children:["Videos can only autoplay if the browser has been unlocked with an interaction, or satisfies the MEI settings. The policies that control autoplaying are vast and vary between browser. You can, and should, read more about it here: ",(0,a.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/Media/Autoplay_guide",children:"https://developer.mozilla.org/en-US/docs/Web/Media/Autoplay_guide"})]}),"\n",(0,a.jsx)(n.p,{children:"If your video doesn't contain any audio, then set the noAudio parameter to true when the video is loaded, and it will often allow the video to play immediately:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"preload () {\n  this.load.video('pixar', 'nemo.mp4', true);\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:"The 3rd parameter in the load call tells Phaser that the video doesn't contain any audio tracks. Video without audio can autoplay without requiring a user interaction. Video with audio cannot do this unless it satisfies the browsers MEI settings. See the MDN Autoplay Guide for further details."}),"\n",(0,a.jsx)(n.p,{children:"Or:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"create () {\n  this.add.video(400, 300).loadURL('assets/aliens.mp4', true);\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:"You can set the noAudio parameter to true even if the video does contain audio. It will still allow the video to play immediately, but the audio will not start."}),"\n",(0,a.jsx)(n.p,{children:"Note that due to a bug in IE11 you cannot play a video texture to a Sprite in WebGL. For IE11 force Canvas mode."}),"\n",(0,a.jsx)(n.p,{children:"More details about video playback and the supported media formats can be found on MDN:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLVideoElement",children:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLVideoElement"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/Media/Formats",children:"https://developer.mozilla.org/en-US/docs/Web/Media/Formats"})}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"load-video",children:"Load video"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"this.load.video(key, url, noAudio);\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Reference: ",(0,a.jsx)(n.a,{href:"/phaser/concepts/loader#video",children:"load video"})]}),"\n",(0,a.jsxs)(n.p,{children:['!!! note "Cross-origin"\nCan\'t load video cross-origin via ',(0,a.jsx)(n.code,{children:"this.load.video(...)"}),".",(0,a.jsx)(n.br,{}),"\nUsing ",(0,a.jsx)(n.code,{children:"this.add.video(x, y).loadURL(urls, noAudio, crossOrigin)"})," to load video cross-origin."]}),"\n",(0,a.jsx)(n.h2,{id:"add-video-object",children:"Add video object"}),"\n",(0,a.jsx)(n.h3,{id:"reference-video-from-video-cache",children:"Reference video from Video Cache"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"var video = this.add.video(x, y, key);\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"key"})," : Key of the Video this Game Object will play, as stored in the Video Cache."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"load-video-from-url",children:"Load video from URL"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Add video object"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"var video = this.add.video(x, y);\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Play video from URL"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.loadURL(url);\n// video.loadURL(urls, noAudio, crossOrigin);\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"noAudio"})," : Does the video have an audio track? If not you can enable auto-playing on it.\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"false"})," : Has audio track. Default behavior."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"crossOrigin"})," : The value to use for the ",(0,a.jsx)(n.code,{children:"crossOrigin"})," property in the video load request.\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"undefined"})," : ",(0,a.jsx)(n.code,{children:"crossorigin"})," will not be set in the request. Default behavior."]}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"'anonymous'"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"'use-credentials'"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"load-video-from-mediastream",children:"Load video from MediaStream"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.loadMediaStream(stream);\n// video.loadMediaStream(stream, noAudio, crossOrigin);\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"stream"})," : The MediaStream object."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"noAudio"})," : Does the video have an audio track? If not you can enable auto-playing on it.\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"false"})," : Has audio track. Default behavior."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"crossOrigin"})," : The value to use for the ",(0,a.jsx)(n.code,{children:"crossOrigin"})," property in the video load request.\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"undefined"})," : ",(0,a.jsx)(n.code,{children:"crossorigin"})," will not be set in the request. Default behavior."]}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"'anonymous'"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"'use-credentials'"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"navigator.mediaDevices.getUserMedia({ video: true, audio: false })\n    .then(function(stream) {\n        video.loadMediaStream(stream, true);\n        video.play();\n    })\n    .catch(function(err) {\n\n    })\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia",children:"navigator.mediaDevices.getUserMedia"})}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"size",children:"Size"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Initial size : 256x265 (",(0,a.jsx)(n.code,{children:"video.setSize(256, 256)"}),")"]}),"\n",(0,a.jsx)(n.li,{children:"Size after playing : Size of video from metadata"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"play",children:"Play"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.play();\n// video.play(loop, markerIn, markerOut);\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"loop"})," : Should the video loop automatically when it reaches the end? Please note that not all browsers support ",(0,a.jsx)(n.em,{children:"seamless"})," video looping for all encoding formats."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"markerIn"}),", ",(0,a.jsx)(n.code,{children:"markerOut"})," : Optional in/out marker time, in seconds, for playback of a sequence of the video."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:['!!! note "Play video first time"\nCall ',(0,a.jsx)(n.code,{children:"video.play()"})," when playing video first time."]}),"\n",(0,a.jsxs)(n.p,{children:["!!! note\nIf you need audio in your videos, then you'll have to consider the fact that\n",(0,a.jsx)(n.strong,{children:"the video cannot start playing until the user has interacted with the browser"}),", into your game flow."]}),"\n",(0,a.jsx)(n.h2,{id:"pause",children:"Pause"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Pause"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.setPaused();\n// video.setPaused(true);\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Resume"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.setPaused(false);\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:['!!! note "Play video after paused"\nCall ',(0,a.jsx)(n.code,{children:"video.setPaused(false)"})," to resume playing."]}),"\n",(0,a.jsx)(n.h2,{id:"stop",children:"Stop"}),"\n",(0,a.jsx)(n.p,{children:"Stops the video playing and clears all internal event listeners."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.stop();\n"})}),"\n",(0,a.jsx)(n.h2,{id:"is-playing",children:"Is playing"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Is playing"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"var isPlaying = video.isPlaying();  // (not PAUSE) and (not not ENDED)\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Is paused"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"var isPaused = video.isPaused();\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"playback-time",children:"Playback time"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Get"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"var playbackTime = video.getCurrentTime();\n"})}),"\n",(0,a.jsx)(n.p,{children:"or"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"var t = video.getProgress(); // t: 0~1\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Set"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Set to"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.setCurrentTime(playbackTime);  // time in seconds\n"})}),"\n",(0,a.jsx)(n.p,{children:"or"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.seekTo(t); // t: 0~1\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Is seeking"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"var isSeeking = video.isSeeking();\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Forward"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.setCurrentTime('+' + time);  // time in seconds\n// video.setCurrentTime('+2');\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Backeard"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.setCurrentTime('-' + time);  // time in seconds\n// video.setCurrentTime('-2');\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"playback-rate",children:"Playback rate"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Get"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"var rate = video.getPlaybackRate();\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Set"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.setPlaybackRate(rate);\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"duration",children:"Duration"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"var duration = video.getDuration();  // time in seconds\n"})}),"\n",(0,a.jsx)(n.h2,{id:"volume",children:"Volume"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Get"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"var volume = video.getVolume();  // volume: 0~1\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Set"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.setVolume(volume);  // volume: 0~1\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"mute",children:"Mute"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Get"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"var muted = video.isMuted();  // muted: true/false\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Set"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.setMute(muted);  // muted: true/false\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"loop",children:"Loop"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Get"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"var loop = video.getLoop();  // loop: true/false\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Set"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.setLoop(loop);  // loop: true/false\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"video-key",children:"Video key"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Get"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"var key = video.getVideoKey();\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Change video key (video source)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.changeSource(key);\n// video.changeSource(key, autoplay, loop, markerIn, markerOut);\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"autoplay"})," : Should the video start playing immediately, once the swap is complete?"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"loop"})," : Should the video loop automatically when it reaches the end? ",(0,a.jsxs)(n.strong,{children:["Not all browsers support ",(0,a.jsx)(n.em,{children:"seamless"})," video looping for all encoding formats"]}),"."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"markerIn"}),", ",(0,a.jsx)(n.code,{children:"markerOut"})," : Optional in/out marker time, in ",(0,a.jsx)(n.em,{children:"seconds"}),", for playback of a sequence of the video."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"marks",children:"Marks"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Add mark"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.addMarker(key, markerIn, markerOut);\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"key"})," : A unique name to give this marker."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"markerIn"}),", ",(0,a.jsx)(n.code,{children:"markerOut"})," : The time, in seconds, representing the start/end of this marker."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Play mark"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.playMarker(key, loop);\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Remove mark"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.removeMarker(key);\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"snapshot",children:"Snapshot"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Allocate a canvas texrure"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.saveSnapshotTexture(key);\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"key"})," : Texture key."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Take a snapshot"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"var canvasTexture = video.video.snapshot();\n// var canvasTexture = video.snapshot(width, height);\n"})}),"\n",(0,a.jsx)(n.p,{children:"or"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"var canvasTexture = video.snapshotArea(x, y, srcWidth, srcHeight);\n// var canvasTexture = video.snapshotArea(x, y, srcWidth, srcHeight, destWidth, destHeight);\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"x"}),", ",(0,a.jsx)(n.code,{children:"y"})," : The horizontal/vertical location of the top-left of the area to grab from."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"srcWidth"}),", ",(0,a.jsx)(n.code,{children:"srcHeight"})," : The width/height of area to grab from the video."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"destWidth"}),", ",(0,a.jsx)(n.code,{children:"destHeight"})," : The destination width/height of the grab, allowing you to resize it."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"canvasTexture"})," : Canvas texture object.\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Get key of texture"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"var key = canvasTexture.key;\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"save-texture",children:"Save texture"}),"\n",(0,a.jsx)(n.p,{children:"The saved texture is automatically updated as the video plays. If you pause this video, or change its source, then the saved texture updates instantly."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"var texture = video.saveTexture(key);\n// var texture = video.saveTexture(key, flipY);\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"flipY"})," : Set to ",(0,a.jsx)(n.code,{children:"true"})," if use it as the input for a Shader."]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"events",children:"Events"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"The media source doesn't represent a supported media format."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.on('unsupported', function(video, error){\n\n}, scope);\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"A Video is unlocked by a user gesture."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.on('unlocked', function(video, error){\n\n}, scope);\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"A Video tries to play a source that does not exist, or is the wrong file type."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.on('error', function(video, error){\n\n}, scope);\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"A Video has access to the metadata."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.on('metadata', function(video){\n\n}, scope);\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"A Video has exhausted its allocated time while trying to connect to a video source to start playback."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.on('timeout', function(video){\n\n}, scope);\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"A Video begins playback."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.on('play', function(video){\n\n}, scope);\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"First started or restarted."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.on('playing', function(video){\n\n}, scope);\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"The video has finished loading enough data for its first frame."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.on('textureready', function(video){\n\n}, scope);\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["A Video finishes playback by reaching the end of its duration, or ",(0,a.jsx)(n.code,{children:"markerOut"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.on('complete', function(video){\n\n}, scope);\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"A Video that is currently playing has looped."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.on('loop', function(video){\n\n}, scope);\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["A Video ",(0,a.jsx)(n.em,{children:"begins"})," seeking to a new point in its timeline."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.on('seeking', function(video){\n\n}, scope);\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"A Video completes seeking to a new point in its timeline."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.on('seeked', function(video){\n\n}, scope);\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Enough of the video source has been loaded, that the browser is able to render a frame from it."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.on('created', function(video, width, height){\n\n}, scope);\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Stalled by ",(0,a.jsx)(n.code,{children:"stalled"}),", ",(0,a.jsx)(n.code,{children:"suspend"}),", ",(0,a.jsx)(n.code,{children:"waiting"})," DOM event."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.on('stalled', function(video, width, height){\n\n}, scope);\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["A Video is stopped from playback via a call to the ",(0,a.jsx)(n.code,{children:"Video.stop"})," method,"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"video.on('stop', function(video){\n\n}, scope);\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"other-properties",children:"Other properties"}),"\n",(0,a.jsxs)(n.p,{children:["See ",(0,a.jsx)(n.a,{href:"/phaser/concepts/gameobjects",children:"game object"})]}),"\n",(0,a.jsx)(n.h2,{id:"create-mask",children:"Create mask"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"var mask = video.createBitmapMask();\n"})}),"\n",(0,a.jsxs)(n.p,{children:["See ",(0,a.jsx)(n.a,{href:"/phaser/concepts/display#masks",children:"mask"})]}),"\n",(0,a.jsx)(n.h2,{id:"shader-effects",children:"Shader effects"}),"\n",(0,a.jsxs)(n.p,{children:["Support ",(0,a.jsx)(n.a,{href:"/phaser/concepts/gameobjects/shader",children:"preFX and postFX effects"})]}),"\n",(0,a.jsx)(n.h2,{id:"author-credits",children:"Author Credits"}),"\n",(0,a.jsx)(n.p,{children:"Content on this page includes work by:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://github.com/rexrainbow",children:"RexRainbow"})}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(t,{...e})}):t(e)}},28453:function(e,n,i){i.d(n,{R:()=>d,x:()=>l});var s=i(96540);let a={},r=s.createContext(a);function d(e){let n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:d(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);
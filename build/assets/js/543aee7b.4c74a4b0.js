"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["26214"],{92771:function(e,t,n){n.r(t),n.d(t,{metadata:()=>i,default:()=>d,frontMatter:()=>a,contentTitle:()=>o,toc:()=>h,assets:()=>c});var i=JSON.parse('{"id":"phaser-editor/scene-editor/input","title":"Input","description":"We are exploring on the ways of helping you with the handling of the input of your game. As a start, we are supporting the Phaser.Input.Keyboard.Key API in the Scene Editor and the Hit Area of an object.","source":"@site/docs/phaser-editor/scene-editor/input.md","sourceDirName":"phaser-editor/scene-editor","slug":"/phaser-editor/scene-editor/input","permalink":"/phaser-editor/scene-editor/input","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"slug":"input","title":"Input"},"sidebar":"PhaserEditorSidebar","previous":{"title":"Object List","permalink":"/phaser-editor/scene-editor/object-list"},"next":{"title":"Prefabs","permalink":"/phaser-editor/scene-editor/prefabs"}}'),s=n(74848),r=n(28453);let a={slug:"input",title:"Input"},o,c={},h=[{value:"Keyboard Key object",id:"keyboard-key-object",level:2},{value:"Hit Area",id:"hit-area",level:2},{value:"Rectangle Hit Area",id:"rectangle-hit-area",level:3},{value:"Ellipse Hit Area",id:"ellipse-hit-area",level:3},{value:"Circle Hit Area",id:"circle-hit-area",level:3},{value:"Polygon Hit Area",id:"polygon-hit-area",level:3},{value:"Pixel Perfect Hit Area",id:"pixel-perfect-hit-area",level:3}];function l(e){let t={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["We are exploring on the ways of helping you with the handling of the input of your game. As a start, we are supporting the ",(0,s.jsx)(t.a,{href:"https://docs.phaser.io/api-documentation/class/input-keyboard-key",children:"Phaser.Input.Keyboard.Key"})," API in the Scene Editor and the ",(0,s.jsx)(t.a,{href:"./input#hit-area",children:"Hit Area of an object"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"keyboard-key-object",children:"Keyboard Key object"}),"\n",(0,s.jsxs)(t.p,{children:["The Scene Editor supports adding a ",(0,s.jsx)(t.a,{href:"https://docs.phaser.io/api-documentation/class/input-keyboard-key",children:"Phaser.Input.Keyboard.Key"})," object to the scene. Just drag the ",(0,s.jsx)(t.strong,{children:"Keyboard.Key"})," object from the Blocks view and drop it into the scene:"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://cdn.phaser.io/editor-docs/scene-editor-input-add-key-20221114.webp",alt:"Add Keyboard Key to the scene."})}),"\n",(0,s.jsxs)(t.p,{children:["The editor shows the ",(0,s.jsx)(t.strong,{children:"Key"})," objects in the ",(0,s.jsx)(t.strong,{children:"Input"})," section of the Outline view:"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://cdn.phaser.io/editor-docs/scene-editor-input-keys-in-outline-20221114.webp",alt:"Key objects in the Outline view."})}),"\n",(0,s.jsx)(t.p,{children:"Select a key for editing its properties in the Inspector view:"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://cdn.phaser.io/editor-docs/scene-editor-input-key-properties-20221114.webp",alt:"The Keyboard Key properties."})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.strong,{children:"Variable"})," properties:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Name"}),": The name of the variable for the Key object."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Scope"}),": The scope of the variable. It may be ",(0,s.jsx)(t.code,{children:"LOCAL"}),", ",(0,s.jsx)(t.code,{children:"METHOD"}),", ",(0,s.jsx)(t.code,{children:"CLASS"}),", or ",(0,s.jsx)(t.code,{children:"PUBLIC"}),". By default it is ",(0,s.jsx)(t.code,{children:"PUBLIC"}),". You can ",(0,s.jsx)(t.a,{href:"./game-objects/common-object-properties#scope-property",children:"learn more about the variable scopes"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.strong,{children:"Keyboard Key"})," properties:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Key Code"}),": the ",(0,s.jsx)(t.a,{href:"https://docs.phaser.io/api-documentation/class/input-keyboard-key#keycode",children:"keyCode"}),". Click on the button for selecting the code:"]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://cdn.phaser.io/editor-docs/scene-editor-input-keycode-dialog-20221114.webp",alt:"KeyCode dialog."})}),"\n",(0,s.jsx)(t.p,{children:"The code generated for the key code is like this:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:"// in the context of a scene:\n\nconst jumpKey = this.input.keyboard\n        .addKey(Phaser.Input.Keyboard.KeyCodes.UP);\n\n// in the context of a prefab:\n\n const jumpKey = this.scene.input.keyboard\n        .addKey(Phaser.Input.Keyboard.KeyCodes.UP);\n"})}),"\n",(0,s.jsxs)(t.p,{children:["A common usage of the keys, is to assign it to a field (set the ",(0,s.jsx)(t.code,{children:"Class"})," scope) and check for its ",(0,s.jsx)(t.strong,{children:"down"})," state in the ",(0,s.jsx)(t.strong,{children:"update"})," method:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:"update() {\n\n    if (this.jumpKey,isDown) {\n\n        this.player.body.velocity.y = -400;\n    }\n}\n"})}),"\n",(0,s.jsx)(t.h2,{id:"hit-area",children:"Hit Area"}),"\n",(0,s.jsxs)(t.p,{children:["Making interactive objects is part of almost every game. You can enable an interactive hit area for an object right in the Inspector view. You can select in the ",(0,s.jsx)(t.strong,{children:"Hit Area"})," section the shape for the interactive area of an object. By default, the shape is ",(0,s.jsx)(t.code,{children:"NONE"}),", which means the object doesn\u2019t have a hit are at all."]}),"\n",(0,s.jsx)(t.p,{children:"The available hit area shapes are:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Rectangle"}),"\n",(0,s.jsx)(t.li,{children:"Ellipse"}),"\n",(0,s.jsx)(t.li,{children:"Circle"}),"\n",(0,s.jsx)(t.li,{children:"Polygon"}),"\n",(0,s.jsx)(t.li,{children:"Pixel Perfect"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://cdn.phaser.io/editor-docs/scene-editor-input-hit-area-options-20230517.webp",alt:"The hit area shapes"})}),"\n",(0,s.jsxs)(t.p,{children:["Each shape has a dedicated section for the shape\u2019s properties. In addition of the section, you can activate the ",(0,s.jsx)(t.strong,{children:"Edit Hit Area"})," tool (",(0,s.jsx)(t.code,{children:"I"}),") and change the properties of the area by dragging handlers in the scene."]}),"\n",(0,s.jsx)(t.h3,{id:"rectangle-hit-area",children:"Rectangle Hit Area"}),"\n",(0,s.jsxs)(t.p,{children:["To set a rectangular hit are on the object, select the ",(0,s.jsx)(t.code,{children:"RECTANGLE"})," option in the ",(0,s.jsx)(t.strong,{children:"Shape"})," parameter of the ",(0,s.jsx)(t.strong,{children:"Hit Area"})," section. It enables the ",(0,s.jsx)(t.strong,{children:"Hit Area (Rectangle)"})," section where you can set the position and size of the area:"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://cdn.phaser.io/editor-docs/scene-editor-input-hit-area-rectangle-20230517.webp",alt:"Enable rectangle hit area"})}),"\n",(0,s.jsxs)(t.p,{children:["Also, you can change the values with the ",(0,s.jsx)(t.strong,{children:"Edit Hit Area"})," tool (",(0,s.jsx)(t.code,{children:"I"}),"):"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://cdn.phaser.io/editor-docs/scene-editor-input-hit-area-rectangle-tool-20230517.webp",alt:"Changes rectangular hit area with the tool."})}),"\n",(0,s.jsx)(t.p,{children:"When you create a rectangle hit area, the scene compiler generates a code like this:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:'// eye\nconst eye = this.add.image(369, 277, "lance-overdose-loader-eye");\neye.setInteractive(\n    new Phaser.Geom.Rectangle(17, 16, 90, 80),\n    Phaser.Geom.Rectangle.Contains);\n'})}),"\n",(0,s.jsx)(t.h3,{id:"ellipse-hit-area",children:"Ellipse Hit Area"}),"\n",(0,s.jsxs)(t.p,{children:["You can set an ellipse as shape for the hit area of an object. Select the ",(0,s.jsx)(t.code,{children:"ELLIPSE"})," option in the ",(0,s.jsx)(t.strong,{children:"Shape"})," parameter and changes the ellipse properties in the ",(0,s.jsx)(t.strong,{children:"Hit Area (Ellipse)"})," section:"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://cdn.phaser.io/editor-docs/scene-editor-input-hit-area-ellipse-20230517.webp",alt:"Ellipse hit area"})}),"\n",(0,s.jsxs)(t.p,{children:["Also, you can change the ellipse properties with the ",(0,s.jsx)(t.strong,{children:"Edit Hit Area Tool"})," (",(0,s.jsx)(t.code,{children:"I"}),"):"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://cdn.phaser.io/editor-docs/scene-editor-input-hit-area-ellipse-tool-20230517.webp",alt:"Edit ellipse hit area tool."})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.a,{href:"../scene-editor/scene-compiler",children:"scene compiler"})," generates the hit are shape code like this:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:'// chicken\nconst chicken = this.add.image(684, 126, "budbrain_chick");\nchicken.setInteractive(\n    new Phaser.Geom.Ellipse(30, 70, 66, 133),\n    Phaser.Geom.Ellipse.Contains);\n'})}),"\n",(0,s.jsx)(t.h3,{id:"circle-hit-area",children:"Circle Hit Area"}),"\n",(0,s.jsxs)(t.p,{children:["You can add a circular hit are to an object by seleting the ",(0,s.jsx)(t.code,{children:"CIRCLE"})," shape in the ",(0,s.jsx)(t.strong,{children:"Hit Area"})," section. Then you can change the radius and position of the circle in the ",(0,s.jsx)(t.strong,{children:"Hit Area (Circle)"})," section:"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://cdn.phaser.io/editor-docs/scene-editor-input-hit-area-circle-20230517.webp",alt:"Set the circle hit area."})}),"\n",(0,s.jsxs)(t.p,{children:["Also, you can change the circle properties with the ",(0,s.jsx)(t.strong,{children:"Edit Hit Area Tool"})," (",(0,s.jsx)(t.code,{children:"I"}),"):"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://cdn.phaser.io/editor-docs/scene-editor-input-hit-area-circle-tool-20230517.webp",alt:"Circle hit area tool."})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.a,{href:"../scene-editor/scene-compiler",children:"scene compiler"})," generates code for setting the circle area in this way:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:'// wizball\nconst wizball = this.add.image(191, 161, "wizball");\nwizball.setInteractive(\n    new Phaser.Geom.Circle(46, 46, 46),\n    Phaser.Geom.Circle.Contains);\n'})}),"\n",(0,s.jsx)(t.h3,{id:"polygon-hit-area",children:"Polygon Hit Area"}),"\n",(0,s.jsxs)(t.p,{children:["You can set a polygon hit area to an object by selecting the ",(0,s.jsx)(t.code,{children:"POLYGON"})," option in the ",(0,s.jsx)(t.strong,{children:"Shape"})," parameter in the ",(0,s.jsx)(t.strong,{children:"Hit Area"})," section. The polygon is made with an array points. The points are represented in a string of numbers, with this syntax: ",(0,s.jsx)(t.code,{children:'"{P1.x} {P2.y} ... {Pn.x} {Pn.y}"'}),". You can change the points in the ",(0,s.jsx)(t.strong,{children:"Hit Area (Polygon)"}),":"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://cdn.phaser.io/editor-docs/scene-editor-input-hit-area-polygon-20230517.webp",alt:"Set polygon hit area."})}),"\n",(0,s.jsx)(t.p,{children:"You can click in the 3-dots button for getting a bigger text box and edit all the points:"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://cdn.phaser.io/editor-docs/scene-editor-hit-area-polygon-points-20230517.webp",alt:"Polygon points."})}),"\n",(0,s.jsxs)(t.p,{children:["Or you can use the ",(0,s.jsx)(t.strong,{children:"Edit Hit Area Tool"})," (",(0,s.jsx)(t.code,{children:"I"}),") for adding, deleting, and changing the points of the polygon:"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://cdn.phaser.io/editor-docs/scene-editor-input-hit-area-polygon-tool-20230517.webp",alt:"Polygon tool."})}),"\n",(0,s.jsx)(t.p,{children:"You can add a point by placing the mouse in a line and dragging the pink point:"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://cdn.phaser.io/editor-docs/scene-editor-input-polygon-tool-add-point-20230517.webp",alt:"Add point to the polygon hit area."})}),"\n",(0,s.jsxs)(t.p,{children:["You can delete a polygon point by placing the mouse pointer on top of it and pressing the ",(0,s.jsx)(t.code,{children:"Delete"})," key. The point to delete is highlighted in red:"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://cdn.phaser.io/editor-docs/scene-editor-input-polygon-delete-point-20230517.webp",alt:"Delete polygon point."})}),"\n",(0,s.jsx)(t.p,{children:"To modify a point, drag it \u{1F642}."}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.a,{href:"../scene-editor/scene-compiler",children:"scene compiler"})," generates the code for setting the polygon hit area like this:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:'// car\nconst car = this.add.image(616, 523, "supercars-parsec");\ncar.setInteractive(\n  new Phaser.Geom.Polygon(\n    "1 85 83 37 245 -0 381 3 574 13 597 57 586 76 603 88 562 115 548 140 510 162 456 147 316 139 158 146 110 160 68 149 0 138"\n    ), Phaser.Geom.Polygon.Contains);\n'})}),"\n",(0,s.jsx)(t.h3,{id:"pixel-perfect-hit-area",children:"Pixel Perfect Hit Area"}),"\n",(0,s.jsxs)(t.p,{children:["To enable the pixel-perfect hit area in an object, select the ",(0,s.jsx)(t.code,{children:"PIXEL_PERFECT"})," option in the ",(0,s.jsx)(t.strong,{children:"Hit Area"})," section and set the ",(0,s.jsx)(t.code,{children:"alphaTolerance"})," in the ",(0,s.jsx)(t.strong,{children:"Hit Area (Pixel Perfect)"})," section:"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://cdn.phaser.io/editor-docs/scene-editor-input-hit-area-pixel-perfect-20230517.webp",alt:"Pixel perfect hit area."})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.strong,{children:"Alpha Tolerance"})," parameter is \u201Cthe alpha level that the pixel should be above to be included as a successful interaction\u201D."]}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.a,{href:"../scene-editor/scene-compiler",children:"scene compiler"})," generates the code for setting pixel perfect hit area in this way:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:'const ship = this.add.image(1000, 281, "thrust_ship2");\nship.setInteractive(this.input.makePixelPerfect());\n'})})]})}function d(e={}){let{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},28453:function(e,t,n){n.d(t,{R:()=>a,x:()=>o});var i=n(96540);let s={},r=i.createContext(s);function a(e){let t=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);
"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["36093"],{76903:function(e,t,s){s.r(t),s.d(t,{metadata:()=>a,default:()=>p,frontMatter:()=>c,contentTitle:()=>i,toc:()=>l,assets:()=>o});var a=JSON.parse('{"id":"phaser-editor/scene-editor/prefabs/prefab-code","title":"Prefab code generation","description":"A Prefab file is a scene and is compiled into JavaScript (or TypeScript) code. A regular scene file is compiled into a class that extends the Phaser.Scene class. It is a scene after all. However, the Prefab file is compiled into a custom object class.","source":"@site/docs/phaser-editor/scene-editor/prefabs/prefab-code.md","sourceDirName":"phaser-editor/scene-editor/prefabs","slug":"/phaser-editor/scene-editor/prefabs/prefab-code","permalink":"/phaser-editor/scene-editor/prefabs/prefab-code","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"slug":"prefab-code","title":"Prefab code generation"},"sidebar":"PhaserEditorSidebar","previous":{"title":"Prefab instance display properties","permalink":"/phaser-editor/scene-editor/prefabs/prefab-display-properties"},"next":{"title":"Changing a property of a prefab instance","permalink":"/phaser-editor/scene-editor/prefabs/prefab-set-properties"}}'),n=s(74848),r=s(28453);let c={slug:"prefab-code",title:"Prefab code generation"},i,o={},l=[];function d(e){let t={a:"a",code:"code",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["A Prefab file is a scene and is compiled into JavaScript (or TypeScript) code. A regular scene file is compiled into a class that extends the ",(0,n.jsx)(t.a,{href:"https://docs.phaser.io/api-documentation/class/scene",children:"Phaser.Scene"})," class. It is a scene after all. However, the Prefab file is compiled into a custom object class."]}),"\n",(0,n.jsxs)(t.p,{children:["The Prefab class generated by the ",(0,n.jsx)(t.a,{href:"../../scene-editor/scene-compiler",children:"scene compiler"})," extends a game object class, like an ",(0,n.jsx)(t.a,{href:"../game-objects/image-object",children:"Image"}),", a ",(0,n.jsx)(t.a,{href:"../game-objects/bitmap-text-object",children:"BitmapText"}),", etc\u2026 or ",(0,n.jsx)(t.a,{href:"./prefab-variant",children:"another prefab class"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["This is the code generated after compile the ",(0,n.jsx)(t.strong,{children:"Dragon"})," prefab:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-javascript",children:'class Dragon extends Phaser.GameObjects.Image {\n\n    constructor(scene, x, y, texture, frame) {\n        super(scene, x ?? 100, y ?? 100, texture || "dragon", frame ?? "dragon/flamming_00");\n\n        this.scaleX = 0.7;\n        this.scaleY = 0.7;\n    }\n}\n'})}),"\n",(0,n.jsxs)(t.p,{children:["Note the Prefab class extends the ",(0,n.jsx)(t.a,{href:"https://docs.phaser.io/api-documentation/class/gameobjects-image",children:"Phaser.GameObjects.Image"})," class, because the prefab object is an ",(0,n.jsx)(t.a,{href:"../game-objects/image-object",children:"Image"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["The constructor of the ",(0,n.jsx)(t.strong,{children:"Dragon"})," class has the same arguments of the ",(0,n.jsx)(t.a,{href:"../game-objects/image-object",children:"Image"})," class, but by default, it uses the texture set in the prefab object. Also, in the body of the constructor, are set the properties modified in the prefab object:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-javascript",children:"this.scaleX = 0.7;\nthis.scaleY = 0.7;\n"})}),"\n",(0,n.jsxs)(t.p,{children:["When the ",(0,n.jsx)(t.a,{href:"../../scene-editor/scene-compiler",children:"scene compiler"})," compiles a regular scene file, the prefab instance in it are generated as instances of the Prefab class:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-javascript",children:"class Level extends Phaser.Scene {\n\n    constructor() {\n        super(\"Level\");\n    }\n\n    create() {\n        ...\n\n        // create the instance of the Dragon prefab class\n        const dragon = new Dragon(this, 190, 120);\n        // add the instance to the display list\n        this.add.existing(dragon);\n        // modify the 'angle' property of the instance\n        dragon.angle = -30;\n        ...\n    }\n}\n"})}),"\n",(0,n.jsx)(t.p,{children:"Also, the Prefab class can be instantiated manually by you, at any time in your game. It is just a custom object class that looks like if you write it by hand."})]})}function p(e={}){let{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},28453:function(e,t,s){s.d(t,{R:()=>c,x:()=>i});var a=s(96540);let n={},r=a.createContext(n);function c(e){let t=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),a.createElement(r.Provider,{value:t},e.children)}}}]);
"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["3632"],{45646:function(e,n,i){i.r(n),i.d(n,{metadata:()=>r,default:()=>h,frontMatter:()=>a,contentTitle:()=>t,toc:()=>o,assets:()=>c});var r=JSON.parse('{"id":"phaser/concepts/gameobjects/rope","title":"Rope","description":"A Guide to the Phaser Rope Game Object","source":"@site/docs/phaser/concepts/gameobjects/rope.md","sourceDirName":"phaser/concepts/gameobjects","slug":"/phaser/concepts/gameobjects/rope","permalink":"/phaser/concepts/gameobjects/rope","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"visibility":"public","slug":"rope","title":"Rope","description":"A Guide to the Phaser Rope Game Object","seoTitle":"Rope","seoDescription":"A Guide to the Phaser Rope Game Object"},"sidebar":"PhaserSidebar","previous":{"title":"Render Texture","permalink":"/phaser/concepts/gameobjects/render-texture"},"next":{"title":"Shader","permalink":"/phaser/concepts/gameobjects/shader"}}'),s=i(74848),l=i(28453);let a={visibility:"public",slug:"rope",title:"Rope",description:"A Guide to the Phaser Rope Game Object",seoTitle:"Rope",seoDescription:"A Guide to the Phaser Rope Game Object"},t,c={},o=[{value:"Load texture",id:"load-texture",level:2},{value:"Add object",id:"add-object",level:2},{value:"Custom rope class",id:"custom-rope-class",level:2},{value:"Origin",id:"origin",level:2},{value:"Set vertices",id:"set-vertices",level:2},{value:"Play animation",id:"play-animation",level:2},{value:"Alpha",id:"alpha",level:2},{value:"Color tint",id:"color-tint",level:2},{value:"Tint fill mode",id:"tint-fill-mode",level:3},{value:"Flip",id:"flip",level:2},{value:"Debug",id:"debug",level:2},{value:"Author Credits",id:"author-credits",level:2}];function d(e){let n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["The Rope object is ",(0,s.jsx)(n.em,{children:"WebGL only"})," and does not have a Canvas counterpart."]}),"\n",(0,s.jsx)(n.p,{children:"A Rope is a special kind of Game Object that has a texture is stretched along its entire length."}),"\n",(0,s.jsx)(n.p,{children:"Unlike a Sprite, it isn't restricted to using just a quad and can have as many vertices as you define when creating it. The vertices can be arranged in a horizontal or vertical strip and have their own color and alpha values as well."}),"\n",(0,s.jsx)(n.p,{children:"A Ropes origin is always 0.5 x 0.5 and cannot be changed."}),"\n",(0,s.jsx)(n.h2,{id:"load-texture",children:"Load texture"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"this.load.image(key, url);\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Reference: ",(0,s.jsx)(n.a,{href:"/phaser/concepts/loader#image",children:"load image"})]}),"\n",(0,s.jsx)(n.h2,{id:"add-object",children:"Add object"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"var rope = this.add.rope(x, y, texture, frame, points, horizontal);\n// var rope = this.add.rope(x, y, texture, frame, points, horizontal, colors, alphas);\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"points"})," :\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"A number : Segments to split the texture frame into."}),"\n",(0,s.jsx)(n.li,{children:"An number array : An array containing the vertices data."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"horizontal"})," :\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"true"})," : Vertices of this Rope be aligned horizontally."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"false"})," : Vertices of this Rope be aligned vertically."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"colors"})," : An optional array containing the color data for this Rope. One color value per pair of vertices."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"alphas"})," : An optional array containing the alpha data for this Rope. One alpha value per pair of vertices."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Add rope from JSON"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"var rope = this.make.rope({\n    x: 0,\n    y: 0,\n    key: '',\n    frame: null,\n    horizontal: true,\n    points: undefined,\n    colors: undefined,\n    alphas: undefined,\n\n    // angle: 0,\n    // alpha: 1\n    // flipX: true,\n    // flipY: true,\n    // origin: {x: 0.5, y: 0.5},\n    \n    add: true\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"custom-rope-class",children:"Custom rope class"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Define class"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"class MyRope extends Phaser.GameObjects.Rope {\n    constructor(scene, x, y, texture, frame, points, horizontal, colors, alphas) {\n        super(scene, x, y, texture, frame, points, horizontal, colors, alphas);\n        // ...\n        this.add.existing(this);\n    }\n    // ...\n\n    // preUpdate(time, delta) {}\n}\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"this.add.existing(gameObject)"})," : Adds an existing Game Object to this Scene.\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"If the Game Object renders, it will be added to the Display List."}),"\n",(0,s.jsxs)(n.li,{children:["If it has a ",(0,s.jsx)(n.code,{children:"preUpdate"})," method, it will be added to the Update List."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Create instance"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"var rope = new MyRope(scene, x, y, texture, frame, points, horizontal);\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"origin",children:"Origin"}),"\n",(0,s.jsx)(n.p,{children:"A Ropes origin is always 0.5 x 0.5 and cannot be changed."}),"\n",(0,s.jsx)(n.h2,{id:"set-vertices",children:"Set vertices"}),"\n",(0,s.jsx)(n.p,{children:"Set vertices via"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"rope.setPoints(points);\n// rope.setPoints(points, colors, alphas);\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"points"})," :\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"A number : Segments to split the texture frame into."}),"\n",(0,s.jsx)(n.li,{children:"An number array : An array containing the vertices data."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"colors"})," : An optional array containing the color data for this Rope. One color value per pair of vertices."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"alphas"})," : An optional array containing the alpha data for this Rope. One alpha value per pair of vertices."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Also change horizontal mode :"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Change vertical rope to horizontal rope, do nothing if rope is horizontal mode already"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"rope.setHorizontal(points);\n// rope.setHorizontal(points, colors, alphas);\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Change horizontal rope to vertical rope, do nothing if rope is vertical mode already"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"rope.setVertical(points);\n// rope.setVertical(points, colors, alphas);\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Or set ",(0,s.jsx)(n.code,{children:"rope.points"})," directly :"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Change ",(0,s.jsx)(n.code,{children:"rope.points"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Horizontal rope : ",(0,s.jsx)(n.code,{children:"rope.points[i].y = newY"})]}),"\n",(0,s.jsxs)(n.li,{children:["Vertical rope :  ",(0,s.jsx)(n.code,{children:"rope.points[i].x = newX"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Call ",(0,s.jsx)(n.code,{children:"rope.setDirty()"}),", or ",(0,s.jsx)(n.code,{children:"rope.updateVertices()"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Each point is relative to position of rope object, get points of world via"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"var worldX = rope.points[i].x + rope.x;\nvar worldY = rope.points[i].y + rope.y;\n"})}),"\n",(0,s.jsx)(n.h2,{id:"play-animation",children:"Play animation"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"rope.play(key);\n// rope.play(key, ignoreIfPlaying, startFrame);\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ignoreIfPlaying"})," : If an animation is already playing then ignore this call. Default value is ",(0,s.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"startFrame"})," : Optionally start the animation playing from this frame index. Default value is ",(0,s.jsx)(n.code,{children:"0"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"alpha",children:"Alpha"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Single alpha"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"rope.setAlphas(alpha);\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Top - bottom alpha"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"rope.setAlphas(topAlpha, bottomAlpha);\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Alpha array for each point"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"rope.setAlphas(alphaArray);\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"alphaArray"})," : Array of alpha value."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"color-tint",children:"Color tint"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Single color tint"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"rope.setColors(color);\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Color tint array for each point"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"rope.setAlphas(colorArray);\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"colorArray"})," : Array of color tint value."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"tint-fill-mode",children:"Tint fill mode"}),"\n",(0,s.jsx)(n.p,{children:"Sets the tint fill mode."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"rope.setTintFill(mode);\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"mode"})," :\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"0"})," : Additive tint, blends the vertices colors with the texture. Default behavior."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"1"})," : Fill tint with alpha."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"2"})," : Fill tint without alpha."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"flip",children:"Flip"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"rope.flipX = flip;\nrope.flipY = flip;\n"})}),"\n",(0,s.jsx)(n.p,{children:"If this Game Object has a physics body, it will not change the body. This is a rendering toggle only."}),"\n",(0,s.jsx)(n.h2,{id:"debug",children:"Debug"}),"\n",(0,s.jsx)(n.p,{children:"Draw debug mesh each render tick."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"rope.setDebug(graphic);\n// rope.setDebug(graphic, callback);\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"graphic"})," : ",(0,s.jsx)(n.a,{href:"/phaser/concepts/gameobjects/graphics",children:"Graphics game object"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"callback"})," : Callback of rendering debug graphics (",(0,s.jsx)(n.a,{href:"https://github.com/photonstorm/phaser/blob/master/src/gameobjects/rope/Rope.js#L996-L1024",children:"default callback"}),")"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"function(rope, meshLength, verts) {\n    // var graphic = rope.debugGraphic;\n}\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"rope"})," : Rope instance.\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"rope.debugGraphic"})," : ",(0,s.jsx)(n.a,{href:"/phaser/concepts/gameobjects/graphics",children:"Graphics game object"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"meshLength"})," : The number of mesh vertices in total."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"verts"})," : An array of the translated vertex coordinates."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["!!! note\nClear Debug graphics (",(0,s.jsx)(n.code,{children:"rope.debugGraphic.clear()"}),") during scene's update stage (",(0,s.jsx)(n.code,{children:"this.update() { }"}),")"]}),"\n",(0,s.jsx)(n.h2,{id:"author-credits",children:"Author Credits"}),"\n",(0,s.jsx)(n.p,{children:"Content on this page includes work by:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/rexrainbow",children:"RexRainbow"})}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:function(e,n,i){i.d(n,{R:()=>a,x:()=>t});var r=i(96540);let s={},l=r.createContext(s);function a(e){let n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);
"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["91608"],{87556:function(e,a,s){s.r(a),s.d(a,{metadata:()=>n,default:()=>d,frontMatter:()=>r,contentTitle:()=>l,toc:()=>h,assets:()=>c});var n=JSON.parse('{"id":"phaser/concepts/display/masks","title":"Masks","description":"Masks","source":"@site/docs/phaser/concepts/display/masks.md","sourceDirName":"phaser/concepts/display","slug":"/phaser/concepts/display/masks","permalink":"/phaser/concepts/display/masks","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"visibility":"public","slug":"masks","title":"Masks","description":"Masks","seoTitle":"Masks","seoDescription":"Masks"}}'),t=s(74848),i=s(28453);let r={visibility:"public",slug:"masks",title:"Masks",description:"Masks",seoTitle:"Masks",seoDescription:"Masks"},l,c={},h=[{value:"Create mask object",id:"create-mask-object",level:2},{value:"Bitmap mask",id:"bitmap-mask",level:3},{value:"Geometry mask",id:"geometry-mask",level:3},{value:"Apply mask object",id:"apply-mask-object",level:2},{value:"Clear mask",id:"clear-mask",level:2},{value:"Invert alpha",id:"invert-alpha",level:2},{value:"Get shape game object",id:"get-shape-game-object",level:2},{value:"Author Credits",id:"author-credits",level:2}];function o(e){let a={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.p,{children:"Phaser has the ability to 'mask' Game Objects as they are rendered. A mask allows you to 'hide' areas of the Game Object from rendering. There are two types of mask available: Geometry Masks and Bitmap Masks. The Geometry Mask works by using geometry data in order to create the mask. For example rectangles, circles, ellipses, polygons and more. This data is used to create a path that forms the mask. Internally, it uses what is known as the stencil buffer in WebGL and the clip path in Canvas."}),"\n",(0,t.jsx)(a.p,{children:"The Bitmap Mask works by using a texture as the mask. This texture can be any size and shape you like, and can be animated, or even a video. The alpha values of the pixels in the texture control what the mask looks like on-screen. For example, a pixel with an alpha value of 0 will hide the Game Object, where-as a pixel with an alpha value of 1 will show it. This allows you to create detailed effects, such as feathering, not possible with a Geometry Mask. Bitmap Masks are a WebGL only feature."}),"\n",(0,t.jsx)(a.p,{children:"Masks in Phaser are slightly unique in that they are drawn and positioned in world space. A Game Object can only have one mask applied to it at any one time. However, you can apply the same mask to multiple Game Objects, if you wish. They are not Game Object specific and if you then move the Game Object, the mask will not 'follow' it. This means they require some careful planning to use effectively."}),"\n",(0,t.jsx)(a.h2,{id:"create-mask-object",children:"Create mask object"}),"\n",(0,t.jsx)(a.h3,{id:"bitmap-mask",children:"Bitmap mask"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-javascript",children:"var mask =  scene.add.bitmapMask([maskObject], [x], [y], [texture], [frame]);\n"})}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.code,{children:"maskObject"})," : The Game Object or Dynamic Texture that will be used as the mask. If null it will generate an Image Game Object using the rest of the arguments."]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.code,{children:"x"})," : If creating a Game Object, the horizontal position in the world."]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.code,{children:"y"})," : If creating a Game Object, the vertical position in the world."]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.code,{children:"texture"})," : If creating a Game Object, the key, or instance of the Texture it will use to render with, as stored in the Texture Manager."]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.code,{children:"frame"})," : If creating a Game Object, an optional frame from the Texture this Game Object is rendering with."]}),"\n"]}),"\n",(0,t.jsx)(a.p,{children:"Examples"}),"\n",(0,t.jsxs)(a.ol,{children:["\n",(0,t.jsxs)(a.li,{children:["\n",(0,t.jsxs)(a.p,{children:["Create image (",(0,t.jsx)(a.a,{href:"/phaser/concepts/gameobjects/image",children:"image"}),", ",(0,t.jsx)(a.a,{href:"/phaser/concepts/gameobjects/sprite",children:"sprite"}),", ",(0,t.jsx)(a.a,{href:"/phaser/concepts/gameobjects/bitmap-text",children:"bitmap text"}),", ",(0,t.jsx)(a.a,{href:"/phaser/concepts/gameobjects/particles",children:"particles"}),", ",(0,t.jsx)(a.a,{href:"/phaser/concepts/gameobjects/text",children:"text"}),"),or ",(0,t.jsx)(a.a,{href:"/phaser/concepts/gameobjects/shader",children:"shader"})]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-javascript",children:"var shape = scene.add.image(x, y, key).setVisible(false);\n"})}),"\n"]}),"\n",(0,t.jsxs)(a.li,{children:["\n",(0,t.jsx)(a.p,{children:"Create mask"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-javascript",children:"var mask = shape.createBitmapMask();\n"})}),"\n",(0,t.jsx)(a.p,{children:"or"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-javascript",children:"var mask = scene.add.bitmapMask(shape);\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(a.h3,{id:"geometry-mask",children:"Geometry mask"}),"\n",(0,t.jsx)(a.p,{children:"The mask is essentially a clipping path which can only make a masked pixel fully visible or fully invisible without changing its alpha (opacity)."}),"\n",(0,t.jsxs)(a.ol,{children:["\n",(0,t.jsxs)(a.li,{children:["\n",(0,t.jsxs)(a.p,{children:["Create ",(0,t.jsx)(a.a,{href:"/phaser/concepts/gameobjects/graphics",children:"graphics"})]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-javascript",children:"var shape = scene.make.graphics();\n"})}),"\n"]}),"\n",(0,t.jsxs)(a.li,{children:["\n",(0,t.jsx)(a.p,{children:"Create mask"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-javascript",children:"var mask = shape.createGeometryMask();\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(a.h2,{id:"apply-mask-object",children:"Apply mask object"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-javascript",children:"gameObject.setMask(mask); // image.mask = mask;\n"})}),"\n",(0,t.jsx)(a.p,{children:"A mask object could be added to many game objects."}),"\n",(0,t.jsxs)(a.p,{children:["!!! error\nDon't put game object and its mask into a ",(0,t.jsx)(a.a,{href:"/phaser/concepts/gameobjects/container",children:"container"})," together.\nSee this ",(0,t.jsx)(a.a,{href:"https://codepen.io/rexrainbow/pen/mdBZJmb",children:"testing"}),", enable line 22-24."]}),"\n",(0,t.jsx)(a.p,{children:"!!! note\nBitmap Mask is WebGL only."}),"\n",(0,t.jsx)(a.p,{children:"!!! note\nCan combine Geometry Masks and Blend Modes on the same Game Object,\nbut Bitmap Masks can't."}),"\n",(0,t.jsx)(a.h2,{id:"clear-mask",children:"Clear mask"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:["\n",(0,t.jsx)(a.p,{children:"Clear mask"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-javascript",children:"image.clearMask();\n"})}),"\n"]}),"\n",(0,t.jsxs)(a.li,{children:["\n",(0,t.jsx)(a.p,{children:"Clear mask and destroy mask object"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-javascript",children:"image.clearMask(true);\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(a.h2,{id:"invert-alpha",children:"Invert alpha"}),"\n",(0,t.jsxs)(a.p,{children:["Only GeometryMask has ",(0,t.jsx)(a.code,{children:"inverse alpha"})," feature."]}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:["\n",(0,t.jsx)(a.p,{children:"Inverse alpha"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-javascript",children:"mask.setInvertAlpha();\n// mask.invertAlpha = true;\n"})}),"\n"]}),"\n",(0,t.jsxs)(a.li,{children:["\n",(0,t.jsx)(a.p,{children:"Disable"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-javascript",children:"mask.setInvertAlpha(false);\n// mask.invertAlpha = false;\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(a.h2,{id:"get-shape-game-object",children:"Get shape game object"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:["\n",(0,t.jsx)(a.p,{children:"Bitmap mask"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-javascript",children:"var shape = mask.bitmapMask;\n"})}),"\n"]}),"\n",(0,t.jsxs)(a.li,{children:["\n",(0,t.jsx)(a.p,{children:"Geometry mask"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-javascript",children:"var shape = mask.geometryMask;\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(a.h2,{id:"author-credits",children:"Author Credits"}),"\n",(0,t.jsx)(a.p,{children:"Content on this page includes work by:"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:(0,t.jsx)(a.a,{href:"https://github.com/rexrainbow",children:"RexRainbow"})}),"\n"]})]})}function d(e={}){let{wrapper:a}={...(0,i.R)(),...e.components};return a?(0,t.jsx)(a,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},28453:function(e,a,s){s.d(a,{R:()=>r,x:()=>l});var n=s(96540);let t={},i=n.createContext(t);function r(e){let a=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function l(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),n.createElement(i.Provider,{value:a},e.children)}}}]);
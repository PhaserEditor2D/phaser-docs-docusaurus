"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["42948"],{59996:function(e,n,a){a.r(n),a.d(n,{metadata:()=>i,default:()=>h,frontMatter:()=>s,contentTitle:()=>c,toc:()=>o,assets:()=>l});var i=JSON.parse('{"id":"phaser/concepts/gameobjects/container","title":"Container","description":"A Guide to the Phaser Container Game Object","source":"@site/docs/phaser/concepts/gameobjects/container.md","sourceDirName":"phaser/concepts/gameobjects","slug":"/phaser/concepts/gameobjects/container","permalink":"/phaser/concepts/gameobjects/container","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"visibility":"public","slug":"container","title":"Container","description":"A Guide to the Phaser Container Game Object","seoTitle":"Container","seoDescription":"A Guide to the Phaser Container Game Object"},"sidebar":"PhaserSidebar","previous":{"title":"Blitter","permalink":"/phaser/concepts/gameobjects/blitter"},"next":{"title":"Display List","permalink":"/phaser/concepts/gameobjects/display-list"}}'),r=a(74848),t=a(28453);let s={visibility:"public",slug:"container",title:"Container",description:"A Guide to the Phaser Container Game Object",seoTitle:"Container",seoDescription:"A Guide to the Phaser Container Game Object"},c,l={},o=[{value:"Add container",id:"add-container",level:2},{value:"Custom class",id:"custom-class",level:2},{value:"Destroy container",id:"destroy-container",level:2},{value:"Set properties",id:"set-properties",level:2},{value:"Set size",id:"set-size",level:2},{value:"Set scroll factor",id:"set-scroll-factor",level:2},{value:"Hit area",id:"hit-area",level:2},{value:"Non-exclusive",id:"non-exclusive",level:2},{value:"Children",id:"children",level:2},{value:"Add child",id:"add-child",level:3},{value:"Child exists in container",id:"child-exists-in-container",level:3},{value:"Get child",id:"get-child",level:3},{value:"Sort children",id:"sort-children",level:3},{value:"Remove child",id:"remove-child",level:3},{value:"Order of child",id:"order-of-child",level:3},{value:"Replace child",id:"replace-child",level:3},{value:"Set properties",id:"set-properties-1",level:3},{value:"For each child",id:"for-each-child",level:3},{value:"Get world position, rotation, scale",id:"get-world-position-rotation-scale",level:3},{value:"Other properties",id:"other-properties",level:2},{value:"Create mask",id:"create-mask",level:2},{value:"Shader effects",id:"shader-effects",level:2},{value:"Compare with group object",id:"compare-with-group-object",level:2},{value:"Author Credits",id:"author-credits",level:2}];function d(e){let n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"A Container, as the name implies, can 'contain' other types of Game Object. When a Game Object is added to a Container, the Container becomes responsible for the rendering of it. By default it will be removed from the Display List and instead added to the Containers own internal list."}),"\n",(0,r.jsx)(n.p,{children:"The position of the Game Object automatically becomes relative to the position of the Container."}),"\n",(0,r.jsxs)(n.p,{children:["The transform point of a Container is [0, 0] (local space) and that cannot be changed. The children you add to the Container should be positioned with this value in mind. I.e. you should treat [0, 0] as being the ",(0,r.jsx)(n.em,{children:"center"})," of the Container, and position children positively and negative around it as required."]}),"\n",(0,r.jsx)(n.p,{children:"When the Container is rendered, all of its children are rendered as well, in the order in which they exist within the Container. Container children can be repositioned using methods such as MoveUp, MoveDown and SendToBack."}),"\n",(0,r.jsx)(n.p,{children:"If you modify a transform property of the Container, such as Container.x or Container.rotation then it will automatically influence all children as well."}),"\n",(0,r.jsx)(n.p,{children:"Containers can include other Containers for deeply nested transforms."}),"\n",(0,r.jsx)(n.p,{children:"Containers can have masks set on them and can be used as a mask too. However, Container children cannot be masked. The masks do not 'stack up'. Only a Container on the root of the display list will use its mask."}),"\n",(0,r.jsx)(n.p,{children:"Containers can be enabled for input. Because they do not have a texture you need to provide a shape for them to use as their hit area. Container children can also be enabled for input, independent of the Container."}),"\n",(0,r.jsx)(n.p,{children:"If input enabling a child you should not set both the origin and a negative scale factor on the child, or the input area will become misaligned."}),"\n",(0,r.jsx)(n.p,{children:"Containers can be given a physics body for either Arcade Physics, Impact Physics or Matter Physics. However, if Container children are enabled for physics you may get unexpected results, such as offset bodies, if the Container itself, or any of its ancestors, is positioned anywhere other than at 0 x 0. Container children with physics do not factor in the Container due to the excessive extra calculations needed. Please structure your game to work around this."}),"\n",(0,r.jsx)(n.p,{children:"It's important to understand the impact of using Containers. They add additional processing overhead into every one of their children. The deeper you nest them, the more the cost escalates. This is especially true for input events. You also loose the ability to set the display depth of Container children in the same flexible manner as those not within them. In short, don't use them for the sake of it. You pay a small cost every time you create one, try to structure your game around avoiding that where possible."}),"\n",(0,r.jsx)(n.h2,{id:"add-container",children:"Add container"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"var container = this.add.container(x, y);\n// var container = this.add.container(x, y, children); // children: an array of game object\n"})}),"\n",(0,r.jsx)(n.h2,{id:"custom-class",children:"Custom class"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Define class"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"class MyContainer extends Phaser.GameObjects.Container {\n    constructor(scene, x, y, children) {\n        super(scene, x, y, children);\n        // ...\n        this.add.existing(this);\n    }\n    // ...\n\n    // preUpdate(time, delta) {}\n}\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"this.add.existing(gameObject)"})," : Adds an existing Game Object to this Scene.\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"If the Game Object renders, it will be added to the Display List."}),"\n",(0,r.jsxs)(n.li,{children:["If it has a ",(0,r.jsx)(n.code,{children:"preUpdate"})," method, it will be added to the Update List."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Create instance"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"var container = new MyContainer(scene, x, y, children);\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"destroy-container",children:"Destroy container"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"container.destroy();\n"})}),"\n",(0,r.jsx)(n.p,{children:"Also destroy all children game objects."}),"\n",(0,r.jsx)(n.h2,{id:"set-properties",children:"Set properties"}),"\n",(0,r.jsxs)(n.p,{children:["Reference ",(0,r.jsx)(n.a,{href:"/phaser/concepts/gameobjects",children:"game object"}),", to set position, angle, visible, alpha, etc..."]}),"\n",(0,r.jsx)(n.h2,{id:"set-size",children:"Set size"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"container.setSize(width, height);\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Default ",(0,r.jsx)(n.code,{children:"width"})," and ",(0,r.jsx)(n.code,{children:"height"})," is 0."]}),"\n",(0,r.jsx)(n.h2,{id:"set-scroll-factor",children:"Set scroll factor"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"container.setScrollFactor(x, y);\n"})}),"\n",(0,r.jsx)(n.p,{children:"Apply this scrollFactor to all Container children."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"container.setScrollFactor(x, y, true);\n"})}),"\n",(0,r.jsx)(n.h2,{id:"hit-area",children:"Hit area"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"container.setInteractive(new Phaser.Geom.Circle(0, 0, radius), Phaser.Geom.Circle.Contains);\n// container.setInteractive(false); // disable\n"})}),"\n",(0,r.jsx)(n.p,{children:"Assign hit area with a circle shape."}),"\n",(0,r.jsx)(n.h2,{id:"non-exclusive",children:"Non-exclusive"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"container.setExclusive(false);\n"})}),"\n",(0,r.jsx)(n.p,{children:"Allows a game object added to container many times."}),"\n",(0,r.jsx)(n.h2,{id:"children",children:"Children"}),"\n",(0,r.jsx)(n.h3,{id:"add-child",children:"Add child"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"container.add(child);  // child: a game object or an array of game objects\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"container.addAt(child, index);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"child-exists-in-container",children:"Child exists in container"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"var hasChild = container.exists(child);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"get-child",children:"Get child"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"var firstChild = container.first;\nvar nextChild = container.next;\nvar prevChild = container.previous;\nvar lastChild = container.last;\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"var child = container.getByName(name);\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"var child = container.getRandom(startIndex, length);\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"var child = container.getFirst(property, value, startIndex, endIndex);\n// value: the value to test the property against. Must pass a strict (`===`) comparison check.\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"var children = container.getAll(property, value, startIndex, endIndex);\n// value: the value to test the property against. Must pass a strict (`===`) comparison check.\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"var amount = container.count(property, value, startIndex, endIndex);\n// value: the value to test the property against. Must pass a strict (`===`) comparison check.\n"})}),"\n",(0,r.jsx)(n.h3,{id:"sort-children",children:"Sort children"}),"\n",(0,r.jsxs)(n.p,{children:["Sort the contents of this Container so the items are in order based on the given property. For example: ",(0,r.jsx)(n.code,{children:"sort('alpha')"})," would sort the elements based on the value of their alpha property."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"container.sort(property);\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"container.sort(property, function(childA, childB){\n    return 0; // 0, 1, -1\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"remove-child",children:"Remove child"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"container.remove(child);\n// container.remove(child, true);  // remove child object and destroy it\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"container.removeAt(index);\n// container.removeAt(index, true);  // remove child object and destroy it\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"container.removeBetween(startIndex, endIndex);\n// container.removeBetween(startIndex, endIndex, true);  // remove children objects and destroy them\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"container.removeAll();\n// container.removeAll(true);  // remove all children objects and destroy them\n"})}),"\n",(0,r.jsx)(n.p,{children:"Removing child from container without destroying will put back into scene's display list."}),"\n",(0,r.jsx)(n.h3,{id:"order-of-child",children:"Order of child"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"container.moveTo(child, index);\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"container.bringToTop(child);\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"container.sendToBack(child);\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"container.moveUp(child);\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"container.moveDown(child);\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"container.moveAbove(child1, child2);  // Move child1 above child2\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"container.moveBelow(child1, child2);  // Move child1 below child2\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"container.swap(child1, child2);\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"container.reverse();\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"container.shuffle();\n"})}),"\n",(0,r.jsx)(n.h3,{id:"replace-child",children:"Replace child"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"container.replace(oldChild, newChild);\n// container.replace(oldChild, newChild, true);  // destroy oldChild\n"})}),"\n",(0,r.jsx)(n.h3,{id:"set-properties-1",children:"Set properties"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"container.setAll(property, value, startIndex, endIndex);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"for-each-child",children:"For each child"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Iterate current children list"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"container.iterate(callback);\n// container.iterate(callback, context);\n// container.iterate(callback, context, arg0, arg1, ...);\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"callback"})," :"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"```javascript\nfunction(child, arg0, arg1, ...) {\n\n}\n```\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Iterate a copy of current children list"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"container.each(callback);\n// container.each(callback, context);\n// container.each(callback, context, arg0, arg1, ...);\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"callback"})," :"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"```javascript\nfunction(child, arg0, arg1, ...) {\n\n}\n```\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"get-world-position-rotation-scale",children:"Get world position, rotation, scale"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"var matrix = child.getWorldTransformMatrix();\nvar x = matrix.tx;\nvar y = matrix.ty;\nvar rotation = matrix.rotation;\nvar scaleX = matrix.scaleX;\nvar scaleY = matrix.scaleY;\n"})}),"\n",(0,r.jsx)(n.h2,{id:"other-properties",children:"Other properties"}),"\n",(0,r.jsxs)(n.p,{children:["See ",(0,r.jsx)(n.a,{href:"/phaser/concepts/gameobjects",children:"game object"})]}),"\n",(0,r.jsx)(n.h2,{id:"create-mask",children:"Create mask"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"var mask = container.createBitmapMask();\n"})}),"\n",(0,r.jsxs)(n.p,{children:["See ",(0,r.jsx)(n.a,{href:"/phaser/concepts/display#masks",children:"mask"})]}),"\n",(0,r.jsx)(n.h2,{id:"shader-effects",children:"Shader effects"}),"\n",(0,r.jsxs)(n.p,{children:["Support ",(0,r.jsx)(n.a,{href:"/phaser/concepts/gameobjects/shader",children:"postFX effects"})]}),"\n",(0,r.jsx)(n.p,{children:"!!! note\nNo preFX effect support"}),"\n",(0,r.jsxs)(n.h2,{id:"compare-with-group-object",children:["Compare with ",(0,r.jsx)(n.a,{href:"/phaser/concepts/gameobjects/group",children:"group object"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Container and group objects are all have a children list."}),"\n",(0,r.jsx)(n.li,{children:"Container has position, angle, alpha, visible, ...etc, but group does not have."}),"\n",(0,r.jsx)(n.li,{children:"Container controls properties of children (position, angle, alpha, visible, ...etc), but group won't."}),"\n",(0,r.jsxs)(n.li,{children:["A game object could be added to many groups, but it only could be added to one container (",(0,r.jsx)(n.code,{children:"exclusive"})," mode)."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"author-credits",children:"Author Credits"}),"\n",(0,r.jsx)(n.p,{children:"Content on this page includes work by:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/rexrainbow",children:"RexRainbow"})}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:function(e,n,a){a.d(n,{R:()=>s,x:()=>c});var i=a(96540);let r={},t=i.createContext(r);function s(e){let n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);